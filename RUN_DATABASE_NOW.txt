═══════════════════════════════════════════════════════════════════
⚠️ DATABASE SCHEMA BELUM DI-RUN! ⚠️
═══════════════════════════════════════════════════════════════════

ERROR SAAT INI:
lzuqfckzboeqwtlqjfgm.supabase.co/rest/v1/profiles:1
Failed to load resource: the server responded with a status of 401 ()

PENYEBAB:
✅ Environment variables sudah OK
❌ Database tables belum dibuat!

═══════════════════════════════════════════════════════════════════
✅ SOLUSI - RUN DATABASE SCHEMA (2 MENIT)
═══════════════════════════════════════════════════════════════════

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
STEP 1: BUKA SUPABASE SQL EDITOR
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

KLIK LINK INI:
https://supabase.com/dashboard/project/lzuqfckzboeqwtlqjfgm/sql


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
STEP 2: BUAT NEW QUERY
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Click tombol "New Query" di kiri atas


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
STEP 3: COPY & PASTE SQL SCHEMA
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. Buka file: supabase-schema-fixed.sql
   (File ini ada di folder RFS)

2. Copy SEMUA isinya (Ctrl + A, lalu Ctrl + C)

3. Paste ke SQL Editor di Supabase (Ctrl + V)


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
STEP 4: RUN SQL
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Click tombol "RUN" di pojok kanan bawah
(Atau tekan Ctrl + Enter)

Tunggu ~10-15 detik...


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
STEP 5: VERIFY SUCCESS
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Anda akan melihat pesan sukses seperti:
✓ Success. No rows returned

Jika ada error, coba run lagi (kadang Supabase butuh refresh)


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
STEP 6: CHECK TABLES
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Buka Table Editor:
https://supabase.com/dashboard/project/lzuqfckzboeqwtlqjfgm/editor

Harus ada 7 tables:
✓ profiles
✓ services
✓ orders
✓ invoices
✓ payment_proofs
✓ notifications
✓ audit_logs


━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
STEP 7: TEST WEBSITE
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

1. Buka: https://rfs-store.vercel.app/

2. Hard refresh: Ctrl + Shift + R

3. Check console (F12) - NO MORE 401 ERROR!

4. Try register new account - SHOULD WORK! ✅


═══════════════════════════════════════════════════════════════════
📋 CHECKLIST
═══════════════════════════════════════════════════════════════════

[ ] Supabase SQL Editor opened
[ ] New Query created
[ ] supabase-schema-fixed.sql copied
[ ] Pasted into SQL Editor
[ ] RUN clicked (or Ctrl+Enter)
[ ] Success message shown
[ ] 7 tables created
[ ] Table Editor verified
[ ] Website tested
[ ] 401 error gone
[ ] Can register
[ ] Can login


═══════════════════════════════════════════════════════════════════
🎯 KENAPA PERLU INI?
═══════════════════════════════════════════════════════════════════

supabase-schema-fixed.sql berisi:

1. CREATE TABLES
   - profiles (user data)
   - services (layanan yang ditawarkan)
   - orders (pesanan customer)
   - invoices (invoice otomatis)
   - payment_proofs (bukti pembayaran)
   - notifications (notifikasi)
   - audit_logs (log aktivitas)

2. RLS POLICIES
   - Security rules untuk setiap table
   - Who can read/write/update/delete
   - **FIX untuk 401 error: INSERT policy for profiles**

3. SAMPLE DATA
   - 6 sample services sudah dimasukkan
   - Ready untuk testing


═══════════════════════════════════════════════════════════════════
❌ TROUBLESHOOTING
═══════════════════════════════════════════════════════════════════

Error: "relation already exists"
Solution: Tables sudah ada, skip error dan lanjut

Error: "permission denied"
Solution: Pastikan Anda login sebagai project owner

Masih 401 setelah run?
Solution:
1. Clear browser cache (Ctrl + Shift + Delete)
2. Hard refresh (Ctrl + Shift + R)
3. Try incognito mode (Ctrl + Shift + N)


═══════════════════════════════════════════════════════════════════
🔗 QUICK LINKS
═══════════════════════════════════════════════════════════════════

SQL Editor:
https://supabase.com/dashboard/project/lzuqfckzboeqwtlqjfgm/sql

Table Editor:
https://supabase.com/dashboard/project/lzuqfckzboeqwtlqjfgm/editor

Website:
https://rfs-store.vercel.app/


═══════════════════════════════════════════════════════════════════
✅ AFTER THIS STEP
═══════════════════════════════════════════════════════════════════

Website akan FULLY FUNCTIONAL:
✅ Registration works
✅ Login works
✅ Dashboard accessible
✅ Services visible
✅ Orders can be created
✅ Invoices generated
✅ Payment proofs uploadable
✅ Admin panel accessible

READY FOR PRODUCTION! 🚀


═══════════════════════════════════════════════════════════════════

PENTING: Ini langkah terakhir untuk membuat website fully functional!

File: supabase-schema-fixed.sql (sudah ada di folder RFS)
Action: Copy & Paste ke Supabase SQL Editor, lalu RUN

═══════════════════════════════════════════════════════════════════

